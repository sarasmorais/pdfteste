<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L√≠via & Mateus - Nosso Casamento</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #e8b4b8;
            --primary-dark: #d4919a;
            --primary-light: #f5d6d9;
            --accent-color: #f2c1c7;
            --text-color: #4a3b3c;
            --text-light: #8a7275;
            --white: #ffffff;
            --off-white: #faf6f7;
            --gray-light: #f0e6e8;
            --gray: #d9d0d2;
            --shadow: rgba(212, 145, 154, 0.1);
            --countdown-color: #c28285;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: "Poppins", sans-serif; color: var(--text-color); background-color: var(--off-white); line-height: 1.6; }
        h1, h2, h3, h4, h5, h6 { font-family: "Playfair Display", serif; font-weight: 500; }
        a { text-decoration: none; color: var(--primary-dark); transition: color 0.3s ease; }
        a:hover { color: var(--primary-color); }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .section-title { text-align: center; font-size: 2.5rem; margin-bottom: 2rem; color: var(--countdown-color); position: relative; padding-bottom: 1rem; font-weight: 400; }
        .section-title::after { content: ""; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 60px; height: 2px; background-color: var(--primary-color); }
        .btn-primary, .btn-secondary, .btn-map { display: inline-block; padding: 12px 28px; border-radius: 30px; font-weight: 500; text-align: center; cursor: pointer; transition: all 0.3s ease; border: none; font-size: 1rem; }
        .btn-primary { background-color: var(--primary-dark); color: var(--white); }
        .btn-primary:hover { background-color: var(--primary-color); color: var(--white); transform: translateY(-2px); box-shadow: 0 5px 15px var(--shadow); }
        .btn-primary:disabled { opacity: 0.7; cursor: not-allowed; transform: none; }
        .btn-secondary { background-color: transparent; color: var(--primary-dark); border: 2px solid var(--primary-dark); }
        .btn-secondary:hover { background-color: var(--primary-light); color: var(--primary-dark); transform: translateY(-2px); box-shadow: 0 5px 15px var(--shadow); }
        .btn-map { background-color: var(--primary-dark); color: var(--white); display: inline-flex; align-items: center; gap: 8px; padding: 10px 20px; font-size: 0.9rem; }
        .btn-map:hover { background-color: var(--primary-color); color: var(--white); box-shadow: 0 5px 15px var(--shadow); transform: translateY(-2px); }
        header { background-color: rgba(255, 255, 255, 1); transition: all 0.3s ease; position: fixed; width: 100%; z-index: 1000; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); padding: 15px 0; }
        header.scrolled-blur { background-color: rgba(255, 255, 255, 0.9); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }
        .header-content { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; padding: 0 20px; position: relative; }
        header h1 { font-size: 1.8rem; color: var(--primary-dark); margin: 0; }
        .wedding-date { font-family: "Playfair Display", serif; font-style: italic; color: var(--text-light); font-size: 1rem; margin-left: 20px; }
        nav ul { display: flex; list-style: none; }
        nav ul li { margin-left: 30px; }
        nav ul li a { color: var(--text-color); font-weight: 500; position: relative; }
        nav ul li a::after { content: ""; position: absolute; bottom: -5px; left: 0; width: 0; height: 2px; background-color: var(--primary-color); transition: width 0.3s ease; }
        nav ul li a:hover::after { width: 100%; }
        .hamburger-menu { display: none; cursor: pointer; }
        .hamburger-icon { width: 30px; height: 20px; position: relative; margin: 0px; transform: rotate(0deg); transition: .5s ease-in-out; cursor: pointer; }
        .hamburger-icon span { display: block; position: absolute; height: 3px; width: 100%; background: var(--primary-dark); border-radius: 9px; opacity: 1; left: 0; transform: rotate(0deg); transition: .25s ease-in-out; }
        .hamburger-icon span:nth-child(1) { top: 0px; }
        .hamburger-icon span:nth-child(2) { top: 8px; }
        .hamburger-icon span:nth-child(3) { top: 16px; }
        .hamburger-icon.open span:nth-child(1) { top: 8px; transform: rotate(135deg); }
        .hamburger-icon.open span:nth-child(2) { opacity: 0; left: -60px; }
        .hamburger-icon.open span:nth-child(3) { top: 8px; transform: rotate(-135deg); }
        .hero { height: 100vh; background: linear-gradient(135deg, var(--primary-light) 0%, var(--accent-color) 100%); position: relative; display: flex; align-items: center; justify-content: center; text-align: center; color: var(--text-color); }
        .hero-content { position: relative; z-index: 1; max-width: 800px; padding: 0 20px; }
        .hero h2 { font-size: 3.5rem; margin-bottom: 1.5rem; font-weight: 700; color: var(--primary-dark); }
        .hero p { font-size: 1.2rem; margin-bottom: 2rem; color: var(--text-light); }
        .countdown-section { padding: 100px 0; background-color: var(--off-white); text-align: center; }
        .countdown-title { color: var(--countdown-color); font-size: 2.8rem; margin-bottom: 1.5rem; font-weight: 400; }
        .countdown-intro { font-size: 1.2rem; margin-bottom: 2rem; color: var(--text-light); }
        .countdown { display: flex; justify-content: center; gap: 60px; margin: 2rem 0; }
        .countdown-item { margin: 0; min-width: 80px; background-color: transparent; padding: 0; border-radius: 0; box-shadow: none; }
        .countdown-item span { display: block; }
        .countdown-item span:first-child { font-size: 5rem; font-weight: 400; font-family: "Playfair Display", serif; color: var(--countdown-color); line-height: 1; margin-bottom: 5px; }
        .countdown-label { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px; color: var(--text-light); font-weight: 400; }
        .countdown-divider { width: 60px; height: 2px; background-color: var(--primary-light); margin: 0 auto 40px; }
        .rsvp { padding: 100px 0; background-color: var(--primary-light); }
        .rsvp-container { display: flex; flex-direction: column; gap: 40px; margin-top: 50px; }
        .rsvp-form-container { width: 100%; position: relative; }
        .rsvp-form { background-color: var(--white); padding: 40px; border-radius: 8px; box-shadow: 0 5px 15px var(--shadow); transition: opacity 0.5s ease, transform 0.5s ease; }
        .thank-you-message { background-color: var(--white); border-radius: 8px; box-shadow: 0 5px 15px var(--shadow); padding: 40px; text-align: center; display: none; opacity: 0; transition: opacity 0.5s ease; }
        .thank-you-message h3 { color: var(--countdown-color); margin-bottom: 20px; font-size: 2rem; font-weight: 400; }
        .thank-you-message p { color: var(--text-light); font-size: 1.1rem; margin-bottom: 10px; }
        .form-group { margin-bottom: 25px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px 15px; border: 1px solid var(--gray); border-radius: 5px; font-family: "Poppins", sans-serif; font-size: 1rem; transition: border-color 0.3s ease; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: var(--primary-color); }
        .info-card { background-color: var(--white); border-radius: 8px; box-shadow: 0 5px 15px var(--shadow); overflow: hidden; transition: transform 0.3s ease; display: flex; flex-direction: column; }
        .info-section { padding: 25px 30px; }
        .date-section { border-bottom: 1px solid var(--gray-light); }
        .info-title { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; color: var(--countdown-color); }
        .info-title .material-symbols-outlined { color: var(--countdown-color); font-size: 1.3rem; }
        .info-title h3 { font-size: 1.5rem; font-weight: 500; margin: 0; color: var(--countdown-color); }
        .info-primary { margin-bottom: 5px; font-weight: 500; color: var(--text-color); }
        .info-secondary { color: var(--text-light); font-size: 0.95rem; }
        .map-section { position: relative; width: 100%; aspect-ratio: 1 / 1; background-color: #e0e0e0; overflow: hidden; border-top: 1px solid var(--gray-light); }
        .map-section iframe { width: 100%; height: 100%; border: 0; display: block; }
        .map-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
        footer { padding: 60px 0; background-color: var(--primary-dark); color: var(--white); text-align: center; }
        .footer-title { font-size: 2.5rem; margin-bottom: 10px; }
        .footer-date { font-family: "Playfair Display", serif; font-style: italic; margin-bottom: 20px; }
        .footer-message { max-width: 500px; margin: 0 auto; }
        .loading-spinner { width: 20px; height: 20px; border: 2px solid transparent; border-top: 2px solid var(--white); border-radius: 50%; animation: spin 1s linear infinite; display: inline-block; margin-right: 8px; vertical-align: middle; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .fade-in { animation: fadeIn 1s ease-in-out; }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .slide-up { animation: slideUp 0.8s ease-out; }
        section { opacity: 0; transition: opacity 1s ease; }
        section.visible { opacity: 1; }
        @media (min-width: 992px) { .rsvp-container { flex-direction: row; align-items: stretch; } .rsvp-form-container { flex: 2; } .info-card { flex: 1; display: flex; flex-direction: column; } .map-section { flex-grow: 1; } }
        @media (max-width: 768px) { .hamburger-menu { display: block; z-index: 1001; } nav { position: fixed; top: 0; right: -100%; width: 70%; height: 100vh; background-color: var(--white); box-shadow: -5px 0 15px rgba(0,0,0,0.1); transition: right 0.3s ease; z-index: 1000; display: flex; align-items: center; justify-content: center; } nav.active { right: 0; } nav ul { flex-direction: column; align-items: center; } nav ul li { margin: 20px 0; } .hero h2 { font-size: 2.5rem; } .countdown { gap: 30px; } .countdown-item { min-width: 60px; } .countdown-item span:first-child { font-size: 3.5rem; } .section-title { font-size: 2rem; } .map-section { min-height: 250px; aspect-ratio: unset; } }
        @media (max-width: 576px) { .countdown { flex-wrap: nowrap; gap: 15px; justify-content: space-around; } .countdown-item { min-width: auto; text-align: center; } .countdown-item span:first-child { font-size: 2.5rem; } .countdown-label { font-size: 0.6rem; } .rsvp-form { padding: 20px; } .thank-you-message { padding: 30px 20px; } .header-content { flex-wrap: wrap; justify-content: center; text-align: center; } header h1 { font-size: 1.5rem; width: 100%; margin-bottom: 5px; } .wedding-date { margin-left: 0; font-size: 0.9rem; width: 100%; } .hamburger-menu { position: absolute; top: 50%; right: 20px; transform: translateY(-50%); } nav { width: 80%; } .info-section { padding: 20px; } }
    </style>
</head>

<body>
    <header>
        <div class="header-content">
            <h1>L√≠via & Mateus</h1>
            <p class="wedding-date">30 de Outubro de 2025</p>
            <div class="hamburger-menu">
                <div class="hamburger-icon" id="hamburger-icon">
                    <span></span><span></span><span></span>
                </div>
            </div>
            <nav id="nav-menu">
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#countdown">Contagem Regressiva</a></li>
                    <li><a href="#confirmar">Confirmar Presen√ßa</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section id="home" class="hero">
        <div class="hero-content">
            <h2>Vamos nos casar!</h2>
            <p>Gostar√≠amos de compartilhar este momento especial com voc√™</p>
            <a href="#confirmar" class="btn-primary">Confirmar Presen√ßa</a>
        </div>
    </section>

    <section id="countdown" class="countdown-section">
        <div class="container">
            <h2 class="countdown-title">Contagem Regressiva</h2>
            <div class="countdown-divider"></div>
            <p class="countdown-intro">Faltam para o nosso grande dia:</p>
            <div class="countdown" id="countdown-timer">
                <div class="countdown-item"><span id="days">00</span><span class="countdown-label">Dias</span></div>
                <div class="countdown-item"><span id="hours">00</span><span class="countdown-label">Horas</span></div>
                <div class="countdown-item"><span id="minutes">00</span><span class="countdown-label">Minutos</span></div>
                <div class="countdown-item"><span id="seconds">00</span><span class="countdown-label">Segundos</span></div>
            </div>
        </div>
    </section>

    <section id="confirmar" class="rsvp">
        <div class="container">
            <h2 class="section-title">Confirme sua Presen√ßa</h2>
            <div class="rsvp-container">
                <div class="rsvp-form-container">
                    <form id="rsvp-form" class="rsvp-form">
                        <div class="form-group"><label for="name">Nome Completo</label><input type="text" id="name" name="nome" required></div>
                        <div class="form-group"><label for="email">E-mail</label><input type="email" id="email" name="email" required></div>
                        <div class="form-group"><label for="phone">Telefone</label><input type="tel" id="phone" name="telefone" required></div>
                        <div class="form-group"><label for="guests">N√∫mero de acompanhantes</label><select id="guests" name="acompanhantes"><option value="0">Apenas eu</option><option value="1">1 acompanhante</option><option value="2">2 acompanhantes</option><option value="3">3 acompanhantes</option></select></div>
                        <div class="form-group"><label for="message">Mensagem para os noivos (opcional)</label><textarea id="message" name="mensagem" rows="4"></textarea></div>
                        <button type="submit" id="submit-button" class="btn-primary">Confirmar Presen√ßa</button>
                    </form>
                    <div id="thank-you-message" class="thank-you-message"></div>
                </div>
                <div class="info-card">
                    <div class="info-section date-section">
                        <div class="info-title"><span class="material-symbols-outlined">calendar_month</span><h3>Data e Hora</h3></div>
                        <p class="info-primary">30 de Outubro de 2025</p><p class="info-secondary">Cerim√¥nia √†s 16:00</p>
                    </div>
                    <div class="info-section location-section">
                        <div class="info-title"><span class="material-symbols-outlined">location_on</span><h3>Local da Cerim√¥nia</h3></div>
                        <p class="info-primary">Espa√ßo Jardim das Flores</p><p class="info-secondary">Rua das Flores, 123 - Jardim Primavera</p>
                    </div>
                    <div class="map-section">
                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3981.306321996998!2d-38.52595768524086!3d-3.742196997273758!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x7c7491de5330c0f%3A0x250610777842c204!2sPra%C3%A7a%20do%20Ferreira!5e0!3m2!1spt-BR!2sbr!4v1620000000000!5m2!1spt-BR!2sbr" 
                            width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                        <div class="map-overlay">
                             <a href="https://maps.app.goo.gl/YOUR_Maps_SHARE_LINK" target="_blank" class="btn-map"> <span class="material-symbols-outlined">map</span> Ver no mapa
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <h2 class="footer-title">L√≠via & Mateus</h2><p class="footer-date">30.10.2025</p>
            <p class="footer-message">Agradecemos por fazer parte deste momento t√£o especial!</p>
        </div>
    </footer>

    <script>
    // Countdown Timer
    const weddingDate = new Date("October 30, 2025 16:00:00").getTime();
    const countdownInterval = setInterval(() => {
        const now = new Date().getTime();
        const distance = weddingDate - now;
        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        const daysEl = document.getElementById("days");
        const hoursEl = document.getElementById("hours");
        const minutesEl = document.getElementById("minutes");
        const secondsEl = document.getElementById("seconds");

        if (daysEl) daysEl.textContent = days.toString().padStart(2, "0");
        if (hoursEl) hoursEl.textContent = hours.toString().padStart(2, "0");
        if (minutesEl) minutesEl.textContent = minutes.toString().padStart(2, "0");
        if (secondsEl) secondsEl.textContent = seconds.toString().padStart(2, "0");

        if (distance < 0) {
            clearInterval(countdownInterval);
            const countdownTimerElement = document.getElementById("countdown-timer");
            if (countdownTimerElement) {
                countdownTimerElement.innerHTML = "<h3>Nosso grande dia chegou!</h3>";
            }
        }
    }, 1000);

    // Main JavaScript
    document.addEventListener("DOMContentLoaded", () => {
        const header = document.querySelector("header");
        if (header) {
            window.addEventListener("scroll", () => {
                header.classList.toggle("scrolled-blur", window.scrollY > 10);
            });
        }

        const hamburgerIcon = document.getElementById("hamburger-icon");
        const navMenu = document.getElementById("nav-menu");
        if (hamburgerIcon && navMenu) {
            hamburgerIcon.addEventListener("click", function () {
                this.classList.toggle("open");
                navMenu.classList.toggle("active");
            });
        }
        
        const navLinks = document.querySelectorAll("nav ul li a");
        navLinks.forEach((link) => {
            link.addEventListener("click", () => {
                if (hamburgerIcon && navMenu) {
                    hamburgerIcon.classList.remove("open");
                    navMenu.classList.remove("active");
                }
            });
        });

        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
            anchor.addEventListener("click", function (e) {
                e.preventDefault();
                const targetId = this.getAttribute("href");
                try {
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        const headerEl = document.querySelector("header");
                        const headerHeight = headerEl ? headerEl.offsetHeight : 0;
                        const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - headerHeight;
                        window.scrollTo({ top: targetPosition, behavior: "smooth" });
                    }
                } catch (error) {
                    console.warn("Elemento para scroll suave n√£o encontrado:", targetId, error);
                }
            });
        });

        function loadJsPDF() {
            return new Promise((resolve, reject) => {
                if (window.jspdf && window.jspdf.jsPDF) { resolve(window.jspdf); return; }
                const script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js';
                script.async = true;
                script.onload = () => {
                    setTimeout(() => {
                        if (window.jspdf && window.jspdf.jsPDF) { resolve(window.jspdf); }
                        else { console.warn('jsPDF CDN principal falhou. Tentando fallback.'); loadFallbackJsPDF(resolve, reject); }
                    }, 100);
                };
                script.onerror = () => { console.error('Falha CDN principal. Tentando fallback.'); loadFallbackJsPDF(resolve, reject); };
                document.head.appendChild(script);
            });
        }

        function loadFallbackJsPDF(resolve, reject) {
            const script2 = document.createElement('script');
            script2.src = 'https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js';
            script2.async = true;
            script2.onload = () => {
                setTimeout(() => {
                    if (window.jspdf && window.jspdf.jsPDF) { resolve(window.jspdf); }
                    else { reject(new Error('jsPDF fallback CDN falhou.')); }
                }, 100);
            };
            script2.onerror = () => { reject(new Error('Falha ambas CDNs jsPDF.')); };
            document.head.appendChild(script2);
        }

        // FUN√á√ÉO generatePDF COM CONSIST√äNCIA VISUAL
async function generatePDF(formDataObj) {
    try {
        console.log("Dados recebidos para PDF:", formDataObj);
        const jsPDFNamespace = await loadJsPDF();
        const { jsPDF } = jsPDFNamespace;
        const doc = new jsPDF(); 

        // Cores consistentes com o site - tons de rosa pastel
        const backgroundBeige = [245, 240, 235];     // Fundo bege claro
        const rosePastel = [250, 225, 228];          // Rosa pastel (accent-color do site)
        const roseDark = [194, 130, 133];            // Rosa escuro (countdown-color do site)
        const textColor = [74, 59, 60];              // Cor do texto principal do site
        const textLight = [138, 114, 117];           // Cor do texto secund√°rio do site
        const softRose = [250, 225, 228];

        const pageWidth = doc.internal.pageSize.getWidth();
        const pageHeight = doc.internal.pageSize.getHeight();
        const margin = 15;
        const centerX = pageWidth / 2;

        // Fundo bege claro
        doc.setFillColor(...backgroundBeige);
        doc.rect(0, 0, pageWidth, pageHeight, "F");

        let currentY = 20;

        // TEXTO SUPERIOR - Fonte consistente
        doc.setFontSize(7);
        doc.setTextColor(...textLight);
        doc.setFont("helvetica", "normal");
        doc.text("CONFIRMA√á√ÉO DE PRESEN√áA RECEBIDA", centerX, currentY, { align: "center" });
        
        currentY += 12;
        doc.setFontSize(9);
        doc.setFont("helvetica", "italic");
        doc.text("Obrigado por confirmar sua presen√ßa em nosso grande dia", centerX, currentY, { align: "center" });

        currentY += 20;

        // SAVE THE DATE
        doc.setFontSize(10);
        doc.setTextColor(...textColor);
        doc.setFont("helvetica", "bold");
        

        currentY += 15;

        // NOMES DOS NOIVOS - Fonte Playfair Display simulada
        doc.setFontSize(26);
        doc.setTextColor(...textColor);
        doc.setFont("times", "normal");
        doc.text("L√≠via", centerX, currentY, { align: "center" });

        currentY += 12;

        // S√≠mbolo & 
        doc.setFontSize(18);
        doc.setTextColor(...roseDark);
        doc.setFont("times", "italic");
        doc.text("&", centerX, currentY, { align: "center" });

        currentY += 15;

        doc.setFontSize(26);
        doc.setTextColor(...textColor);
        doc.setFont("times", "normal");
        doc.text("Mateus", centerX, currentY, { align: "center" });

        currentY += 18;

        // Linha decorativa
        doc.setDrawColor(...rosePastel);
        doc.setLineWidth(0.8);
        doc.line(centerX - 30, currentY, centerX + 30, currentY);

        currentY += 15;

        // CONTAINERS LADO A LADO - Largura aumentada
        const containerY = currentY;
        const containerHeight = 80;
        const containerWidth = (pageWidth - (margin * 2.5)) / 2; // Largura aumentada
        const leftContainerX = margin;
        const rightContainerX = margin + containerWidth + (margin * 0.5);

        // CONTAINER ESQUERDO - DADOS DO CONVIDADO
        doc.setFillColor(...softRose);
        doc.setDrawColor(...roseDark);
        doc.setLineWidth(0.3);
        doc.roundedRect(leftContainerX, containerY, containerWidth, containerHeight, 5, 5, "FD");

        // T√≠tulo da se√ß√£o esquerda
        let leftTextY = containerY + 10;
        doc.setFontSize(10);
        doc.setTextColor(...textColor);
        doc.setFont("helvetica", "bold");
        doc.text("DADOS DO CONVIDADO", leftContainerX + (containerWidth / 2), leftTextY, { align: "center" });

        leftTextY += 12;

        // Dados do convidado - Fonte Poppins simulada
        const leftContentX = leftContainerX + 8;
        doc.setFontSize(8);
        doc.setTextColor(...textColor);

        // Nome
        doc.setFont("helvetica", "bold");
        doc.text("Nome:", leftContentX, leftTextY);
        doc.setFont("helvetica", "normal");
        const nameLines = doc.splitTextToSize(String(formDataObj.nome || "N/A"), containerWidth - 35);
        doc.text(nameLines, leftContentX + 20, leftTextY);

        leftTextY += 10;

        // Email
        doc.setFont("helvetica", "bold");
        doc.text("Email:", leftContentX, leftTextY);
        doc.setFont("helvetica", "normal");
        const emailLines = doc.splitTextToSize(String(formDataObj.email || "N/A"), containerWidth - 35);
        doc.text(emailLines, leftContentX + 20, leftTextY);

        leftTextY += 10;

        // Telefone
        doc.setFont("helvetica", "bold");
        doc.text("Telefone:", leftContentX, leftTextY);
        doc.setFont("helvetica", "normal");
        doc.text(String(formDataObj.telefone || "N/A"), leftContentX + 25, leftTextY);

        leftTextY += 10;

        // Acompanhantes
        doc.setFont("helvetica", "bold");
        doc.text("Acompanhantes:", leftContentX, leftTextY);
        doc.setFont("helvetica", "normal");
        const acompText = formDataObj.acompanhantes === "0" ? "Apenas eu" : `${formDataObj.acompanhantes || '0'} pessoa(s)`;
        doc.text(acompText, leftContentX + 35, leftTextY);

        // Mensagem (se houver)
        if (formDataObj.mensagem && formDataObj.mensagem.trim() !== "") {
            leftTextY += 8;
            
            // Linha divis√≥ria
            doc.setDrawColor(...textLight);
            doc.setLineWidth(0.3);
            doc.line(leftContentX, leftTextY, leftContainerX + containerWidth - 8, leftTextY);
            
            leftTextY += 6;
            doc.setFont("helvetica", "bold");
            doc.setTextColor(...roseDark);
            doc.text("Mensagem:", leftContentX, leftTextY);
            
            leftTextY += 6;
            doc.setFontSize(7);
            doc.setFont("helvetica", "normal");
            doc.setTextColor(...textColor);
            const msgLines = doc.splitTextToSize(String(formDataObj.mensagem), containerWidth - 16);
            doc.text(msgLines, leftContentX, leftTextY);
        }

        // CONTAINER DIREITO - DETALHES DO EVENTO (Rosa pastel)
        doc.setFillColor(...rosePastel);
        doc.setDrawColor(...roseDark);
        doc.setLineWidth(0.5); // Borda mais fina
        doc.roundedRect(rightContainerX, containerY, containerWidth, containerHeight, 5, 5, "FD");

        let rightTextY = containerY + 10;
        doc.setFontSize(10);
        doc.setTextColor(...textColor);
        doc.setFont("helvetica", "bold");
        doc.text("DETALHES DO EVENTO", rightContainerX + (containerWidth / 2), rightTextY, { align: "center" });

        rightTextY += 12;

        // Dados do evento
        const rightContentX = rightContainerX + 8;
        doc.setFontSize(8);
        doc.setTextColor(...textColor);

        // Data
        doc.setFont("helvetica", "bold");
        doc.text("Data:", rightContentX, rightTextY);
        doc.setFont("helvetica", "normal");
        doc.text("30/10/2025", rightContentX + 20, rightTextY);

        rightTextY += 10;

        // Hor√°rio
        doc.setFont("helvetica", "bold");
        doc.text("Hor√°rio:", rightContentX, rightTextY);
        doc.setFont("helvetica", "normal");
        doc.text("16h", rightContentX + 25, rightTextY);

        rightTextY += 10;

        // Local
        doc.setFont("helvetica", "bold");
        doc.text("Local:", rightContentX, rightTextY);
        doc.setFont("helvetica", "normal");
        const localLines = doc.splitTextToSize("Espa√ßo Jardim das Flores", containerWidth - 25);
        doc.text(localLines, rightContentX + 20, rightTextY);

        rightTextY += 10;

        // Endere√ßo
        doc.setFont("helvetica", "bold");
        doc.text("Endere√ßo:", rightContentX, rightTextY);
        doc.setFont("helvetica", "normal");
        const addressLines = doc.splitTextToSize("Rua das Flores, 123 - Jardim Primavera", containerWidth - 30);
        doc.text(addressLines, rightContentX + 28, rightTextY);

        currentY = containerY + containerHeight + 20;

        // RODAP√â ELEGANTE
        const footerY = pageHeight - 20;
        
        // Linha decorativa
        doc.setDrawColor(...rosePastel);
        doc.setLineWidth(0.8);
        doc.line(margin + 40, footerY - 6, pageWidth - margin - 40, footerY - 6);

        doc.setFontSize(10);
        doc.setTextColor(...textColor);
        doc.setFont("times", "italic");
        doc.text("L√≠via & Mateus", centerX, footerY, { align: "center" });

        doc.setFontSize(7);
        doc.setTextColor(...textLight);
        doc.setFont("helvetica", "normal");
        doc.text("30 de Outubro de 2025", centerX, footerY + 6, { align: "center" });

        console.log("PDF elegante gerado com sucesso!");
        const safeGuestName = String(formDataObj.nome || "Convidado").replace(/[^\w\s√Ä-√∫]/gi, '').replace(/\s+/g, "_");
        const fileName = `Convite_Casamento_Livia_Mateus_${safeGuestName}.pdf`;
        doc.save(fileName);

        return true;
    } catch (error) {
        console.error("Erro ao gerar PDF:", error);
        alert("Ocorreu um erro ao gerar o PDF. Por favor, tente novamente.");
        throw error;
    }
}

        const rsvpForm = document.getElementById("rsvp-form");
        const thankYouMessageContainer = document.getElementById("thank-you-message"); 
        const submitButton = document.getElementById("submit-button");

        if (rsvpForm && thankYouMessageContainer && submitButton) {
            rsvpForm.addEventListener("submit", async (e) => {
                e.preventDefault();
                const originalText = submitButton.textContent;
                submitButton.innerHTML = '<span class="loading-spinner"></span>Enviando...';
                submitButton.disabled = true;
                const formData = new FormData(rsvpForm);
                const formDataObj = Object.fromEntries(formData.entries());

                try {
                    const response = await fetch("https://api.sheetmonkey.io/form/ri6NRsJ9mYsHBm1YZvXR5y", {
                        method: "POST",
                        headers: { Accept: "application/json", "Content-Type": "application/json" },
                        body: JSON.stringify(formDataObj),
                    });
                    if (!response.ok) {
                        let errorData = { message: 'Erro ao enviar dados para a planilha.' };
                        try { errorData = await response.json(); } catch (jsonError) { /* Usar msg padr√£o */ }
                        throw new Error(errorData.message || 'Erro ao enviar dados. Status: ' + response.status);
                    }

                    rsvpForm.style.opacity = "0";
                    rsvpForm.style.transform = "translateY(20px)";
                    setTimeout(() => {
                        rsvpForm.style.display = "none";
                        thankYouMessageContainer.innerHTML = `
                            <h3>Obrigado por confirmar sua presen√ßa, ${formDataObj.nome}!</h3>
                            <p><strong>Email:</strong> ${formDataObj.email}</p>
                            <p><strong>Telefone:</strong> ${formDataObj.telefone}</p>
                            <p><strong>Acompanhantes:</strong> ${formDataObj.acompanhantes === "0" ? "Apenas voc√™" : formDataObj.acompanhantes + " pessoa(s)"}</p>
                            ${formDataObj.mensagem ? `<p><strong>Mensagem:</strong> ${formDataObj.mensagem}</p>` : ""}
                            <button id="download-pdf" class="btn-primary" style="margin-top: 20px;">üìÑ Baixar Confirma√ß√£o em PDF</button>`;
                        thankYouMessageContainer.style.display = "block";
                        void thankYouMessageContainer.offsetWidth; 
                        thankYouMessageContainer.style.opacity = "1";

                        const downloadButton = document.getElementById("download-pdf");
                        if(downloadButton) {
                            downloadButton.addEventListener("click", async () => {
                                const originalDownloadText = downloadButton.textContent;
                                downloadButton.innerHTML = '<span class="loading-spinner"></span>Gerando PDF...';
                                downloadButton.disabled = true;
                                try {
                                    await generatePDF(formDataObj);
                                } catch (error) { 
                                    console.error("Erro no download do PDF:", error);
                                }
                                finally {
                                    downloadButton.textContent = originalDownloadText;
                                    downloadButton.disabled = false;
                                }
                            });
                        }
                    }, 500);
                } catch (error) {
                    console.error("Erro ao enviar o formul√°rio:", error);
                    alert(`Ocorreu um erro ao enviar o formul√°rio: ${error.message}. Por favor, tente novamente.`);
                    submitButton.textContent = originalText;
                    submitButton.disabled = false;
                }
            });
        }

        const sections = document.querySelectorAll("section");
        const revealPoint = 150;
        function checkReveal() {
            const windowHeight = window.innerHeight;
            sections.forEach((section) => {
                const sectionTop = section.getBoundingClientRect().top;
                if (sectionTop < windowHeight - revealPoint) {
                    section.classList.add("visible");
                }
            });
        }
        if (sections.length > 0) { checkReveal(); window.addEventListener("scroll", checkReveal); }
    });
    </script>
</body>
</html>
